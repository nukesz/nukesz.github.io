<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Source Themes Academic 4.4.0"><meta name=author content="Norbert Benczúr"><meta name=description content="Introduction In this post, I&rsquo;d like to present a few options to ship a spring boot application in a docker container. There are many ways to dockerize a spring boot (probably a nice google hit search), but I don&rsquo;t see too much discussion around the pros and cons. So let&rsquo;s jump into it.
Create new project Go to https://start.spring.io/ and create a new project. I&rsquo;ll be using:
 Gradle - Groovy Spring Boot 3."><link rel=alternate hreflang=en-us href=https://nukesz.github.io/post/dockerize-spring-boot/><meta name=theme-color content="#2962ff"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.6.0/css/all.css integrity=sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css crossorigin=anonymous title=hl-light><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/dracula.min.css crossorigin=anonymous title=hl-dark disabled><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:400,700|Roboto:400,400italic,700|Roboto+Mono&display=swap"><link rel=stylesheet href=/css/academic.min.04a87a1cb9027e3c50f566322527c56f.css><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-127428919-1','auto');ga('require','eventTracker');ga('require','outboundLinkTracker');ga('require','urlChangeTracker');ga('send','pageview');</script><script async src=https://www.google-analytics.com/analytics.js></script><script async src=https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin=anonymous></script><link rel=manifest href=/index.webmanifest><link rel=icon type=image/png href=/img/icon-32.png><link rel=apple-touch-icon type=image/png href=/img/icon-192.png><link rel=canonical href=https://nukesz.github.io/post/dockerize-spring-boot/><meta property="twitter:card" content="summary"><meta property="twitter:site" content="@NorbertBenczur"><meta property="twitter:creator" content="@NorbertBenczur"><meta property="og:site_name" content="Norbert Benczúr"><meta property="og:url" content="https://nukesz.github.io/post/dockerize-spring-boot/"><meta property="og:title" content="Dockerize a Spring Boot application | Norbert Benczúr"><meta property="og:description" content="Introduction In this post, I&rsquo;d like to present a few options to ship a spring boot application in a docker container. There are many ways to dockerize a spring boot (probably a nice google hit search), but I don&rsquo;t see too much discussion around the pros and cons. So let&rsquo;s jump into it.
Create new project Go to https://start.spring.io/ and create a new project. I&rsquo;ll be using:
 Gradle - Groovy Spring Boot 3."><meta property="og:image" content="https://nukesz.github.io/img/icon-192.png"><meta property="twitter:image" content="https://nukesz.github.io/img/icon-192.png"><meta property="og:locale" content="en-us"><meta property="article:published_time" content="2025-02-10T20:53:53+01:00"><meta property="article:modified_time" content="2025-02-10T20:53:53+01:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://nukesz.github.io/post/dockerize-spring-boot/"},"headline":"Dockerize a Spring Boot application","datePublished":"2025-02-10T20:53:53+01:00","dateModified":"2025-02-10T20:53:53+01:00","author":{"@type":"Person","name":"Norbert Benczúr"},"description":"Introduction In this post, I\u0026rsquo;d like to present a few options to ship a spring boot application in a docker container. There are many ways to dockerize a spring boot (probably a nice google hit search), but I don\u0026rsquo;t see too much discussion around the pros and cons. So let\u0026rsquo;s jump into it.\nCreate new project Go to https://start.spring.io/ and create a new project. I\u0026rsquo;ll be using:\n Gradle - Groovy Spring Boot 3."}</script><title>Dockerize a Spring Boot application | Norbert Benczúr</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents><aside class=search-results id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=#><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=Search... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><nav class="navbar navbar-light fixed-top navbar-expand-lg py-0 compensate-for-scrollbar" id=navbar-main><div class=container><a class=navbar-brand href=/>Norbert Benczúr</a>
<button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar aria-controls=navbar aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="collapse navbar-collapse" id=navbar><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link href=/#about><span>Home</span></a></li><li class=nav-item><a class=nav-link href=/#posts><span>Posts</span></a></li></ul><ul class="navbar-nav ml-auto"><li class=nav-item><a class="nav-link js-search" href=#><i class="fas fa-search" aria-hidden=true></i></a></li><li class=nav-item><a class="nav-link js-dark-toggle" href=#><i class="fas fa-moon" aria-hidden=true></i></a></li></ul></div></div></nav><article class=article><div class="article-container pt-3"><h1>Dockerize a Spring Boot application</h1><div class=article-metadata><span class=article-date>Feb 10, 2025</span>
<span class=middot-divider></span><span class=article-reading-time>6 min read</span><div class=share-box aria-hidden=true><ul class=share><li><a href="https://twitter.com/intent/tweet?url=https://nukesz.github.io/post/dockerize-spring-boot/&text=Dockerize%20a%20Spring%20Boot%20application" target=_blank rel=noopener class=share-btn-twitter><i class="fab fa-twitter"></i></a></li><li><a href="https://www.facebook.com/sharer.php?u=https://nukesz.github.io/post/dockerize-spring-boot/&t=Dockerize%20a%20Spring%20Boot%20application" target=_blank rel=noopener class=share-btn-facebook><i class="fab fa-facebook-f"></i></a></li><li><a href="mailto:?subject=Dockerize%20a%20Spring%20Boot%20application&body=https://nukesz.github.io/post/dockerize-spring-boot/" target=_blank rel=noopener class=share-btn-email><i class="fas fa-envelope"></i></a></li><li><a href="https://www.linkedin.com/shareArticle?url=https://nukesz.github.io/post/dockerize-spring-boot/&title=Dockerize%20a%20Spring%20Boot%20application" target=_blank rel=noopener class=share-btn-linkedin><i class="fab fa-linkedin-in"></i></a></li><li><a href="https://web.whatsapp.com/send?text=Dockerize%20a%20Spring%20Boot%20application%20https://nukesz.github.io/post/dockerize-spring-boot/" target=_blank rel=noopener class=share-btn-whatsapp><i class="fab fa-whatsapp"></i></a></li><li><a href="https://service.weibo.com/share/share.php?url=https://nukesz.github.io/post/dockerize-spring-boot/&title=Dockerize%20a%20Spring%20Boot%20application" target=_blank rel=noopener class=share-btn-weibo><i class="fab fa-weibo"></i></a></li></ul></div></div></div><div class=article-container><div class=article-style><h2 id=introduction>Introduction</h2><p>In this post, I&rsquo;d like to present a few options to ship a spring boot application in a docker container. There are many ways to <em>dockerize a spring boot</em> (probably a nice google hit search), but I don&rsquo;t see too much discussion around the pros and cons. So let&rsquo;s jump into it.</p><h2 id=create-new-project>Create new project</h2><p>Go to <a href=https://start.spring.io/>https://start.spring.io/</a> and create a new project. I&rsquo;ll be using:</p><ul><li>Gradle - Groovy</li><li>Spring Boot 3.4.2</li><li>Java 21</li><li>Dependencies: Spring Web</li></ul><p>For demonstration, I&rsquo;m going to add a &ldquo;/ping&rdquo; endpoint and it&rsquo;s going to return &ldquo;pong&rdquo;. Just simply create <code>PingController.java</code>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>package</span> com.nukesz.demo<span style=color:#f92672>;</span>

<span style=color:#f92672>import</span> org.springframework.web.bind.annotation.GetMapping<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> org.springframework.web.bind.annotation.RestController<span style=color:#f92672>;</span>

<span style=color:#a6e22e>@RestController</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>PingController</span> <span style=color:#f92672>{</span>

    <span style=color:#a6e22e>@GetMapping</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;/ping&#34;</span><span style=color:#f92672>)</span>
    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>ping</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;Pong&#34;</span><span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><p>Build and run the application as a normal <strong>jar</strong>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#75715e># Build it</span>
./gradlew build
<span style=color:#75715e># Run it</span>
java -jar build/libs/dockerize-spring-boot-0.0.1-SNAPSHOT.jar
</code></pre></div><blockquote><p>The jar is actually created with the <code>bootJar</code> task. You can learn more about it in the <a href=https://docs.spring.io/spring-boot/docs/2.5.1/gradle-plugin/reference/htmlsingle/#packaging-executable.and-plain-archives>spring doc</a></p></blockquote><p>Verify our REST API is working as expected:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ curl http://localhost:8080/ping
&gt; Pong!
</code></pre></div><h2 id=create-dockerfile-manually>Create <code>Dockerfile</code> manually</h2><p>Our application is ready, so let&rsquo;s create a docker image for it. First let&rsquo;s</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>FROM eclipse-temurin:21
LABEL org.opencontainers.image.authors<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Norbert Benczur&#34;</span>
RUN mkdir /opt/app
COPY build/libs/dockerize-spring-boot-*.jar /opt/app/myapp.jar
CMD <span style=color:#f92672>[</span><span style=color:#e6db74>&#34;java&#34;</span>, <span style=color:#e6db74>&#34;-jar&#34;</span>, <span style=color:#e6db74>&#34;/opt/app/myapp.jar&#34;</span><span style=color:#f92672>]</span>
</code></pre></div><p>You can build and run the Docker image:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>docker build -t dockerize-spring-boot .
docker run -it -p 8080:8080 --rm dockerize-spring-boot
</code></pre></div><p>Verify that we can reach our REST API within the container as expected:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ curl http://localhost:8080/ping
&gt; Pong!
</code></pre></div><p>Are we done? - Not at all.</p><h3 id=whats-the-problem>What&rsquo;s the problem?</h3><p>Creating <code>Dockerfile</code> manually has its pros and cons. It&rsquo;s the most flexible solution where you control everything. No dependency needed.</p><p>But I think the biggest drawback with this approach is that <strong>it seems</strong> everything is working, but in fact it is hiding the underlining work that is missing. The problem comes when you need more than a <code>Hello World</code> example.</p><h4 id=repetitive>Repetitive</h4><p>When you have more than 1 java app to dockerize, the number of dockerfiles starts to grow and you have to maintain and update each file independently.</p><h4 id=efficiency>Efficiency</h4><p>In this simple example, we defined our base image and started our <em>fat jar</em>. But is that the most optimal way to build and run a spring boot (or any other java) application?
For example, let&rsquo;s change a single file in our application and build the image again:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#75715e># Let&#39;s measure the re-build</span>
$ time  <span style=color:#f92672>(</span> ./gradlew build -x test; docker build -t dockerize-spring-boot . <span style=color:#f92672>)</span>
&gt; ..
&gt; <span style=color:#f92672>=</span>&gt; <span style=color:#f92672>[</span>3/3<span style=color:#f92672>]</span> COPY build/libs/dockerize-spring-boot-*.jar /opt/app/myapp.jar
&gt; ..
&gt; real 0m7,640s
</code></pre></div><p>So even a single change could cause the jar to be re-built and copied again. We are obviously not using the benefits of docker layers.</p><p>Can&rsquo;t we leverage other people&rsquo;s work rather than trying to come up with most optimal <code>Dockerfile</code> ourself?</p><h2 id=use-buildpacks>Use Buildpacks</h2><p>Many of the problems that I mentioned previously comes from that the fact that we wrote our <code>Dockerfile</code> manually. So let&rsquo;s look another approach which does not need any Dockerfile at all.</p><p><a href=https://buildpacks.io/>Buildpacks</a> transform the source code into containers without Dockerfiles. There are multiple projects that implements the Cloud Native Buildpacks (CNBs) <a href=https://github.com/buildpacks/spec>spec</a> and probably best two options for java application today is:
<a href=https://paketo.io/>Paketo</a> and <a href=https://github.com/GoogleContainerTools/jib>Jib</a>.</p><h3 id=paketo>Paketo</h3><p>We can use paketo by executing the following gradle (or maven) task:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>./gradlew bootBuildImage
</code></pre></div><p>The task will look and analyze your files, configurations and create a docker image based on it. The task&rsquo;s output is really user friendly and show all the parameters that it used for building the image.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>&gt; Task :bootBuildImage
Building image <span style=color:#e6db74>&#39;docker.io/library/dockerize-spring-boot:0.0.1-SNAPSHOT&#39;</span>

 &gt; Pulling builder image <span style=color:#e6db74>&#39;docker.io/paketobuildpacks/builder-jammy-java-tiny:latest&#39;</span>
 &gt; Pulled builder image <span style=color:#e6db74>&#39;paketobuildpacks/builder-jammy-java-tiny@sha256:c5c53&#39;</span>
 &gt; Pulling run image <span style=color:#e6db74>&#39;docker.io/paketobuildpacks/run-jammy-tiny:latest&#39;</span> <span style=color:#66d9ef>for</span> platform <span style=color:#e6db74>&#39;linux/amd64&#39;</span>
 &gt; Pulled run image <span style=color:#e6db74>&#39;paketobuildpacks/run-jammy-tiny@sha256:0c5ac&#39;</span>
 &gt; Executing lifecycle version v0.20.6
 &gt; Using build cache volume <span style=color:#e6db74>&#39;pack-cache-7b0feb92a365.build&#39;</span>

 &gt; Running creator
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>     <span style=color:#f92672>===</span>&gt; ANALYZING
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>     Image with name <span style=color:#e6db74>&#34;docker.io/library/dockerize-spring-boot:0.0.1-SNAPSHOT&#34;</span> not found
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>     <span style=color:#f92672>===</span>&gt; DETECTING
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>       ...
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>     <span style=color:#f92672>===</span>&gt; RESTORING
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>     <span style=color:#f92672>===</span>&gt; BUILDING
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>       ...
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>     Paketo Buildpack <span style=color:#66d9ef>for</span> Spring Boot 5.32.1
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>       https://github.com/paketo-buildpacks/spring-boot
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>       Build Configuration:
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>         $BPL_JVM_CDS_ENABLED                 false  whether to enable CDS optimizations at runtime
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>         $BPL_SPRING_AOT_ENABLED              false  whether to enable Spring AOT at runtime
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>         $BP_JVM_CDS_ENABLED                  false  whether to enable CDS &amp; perform JVM training run
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>         $BP_SPRING_AOT_ENABLED               false  whether to enable Spring AOT
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>         $BP_SPRING_CLOUD_BINDINGS_DISABLED   false  whether to contribute Spring Boot cloud bindings support
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>         $BP_SPRING_CLOUD_BINDINGS_VERSION    <span style=color:#ae81ff>1</span>      default version of Spring Cloud Bindings library to contribute
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>       Launch Configuration:
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>         $BPL_SPRING_CLOUD_BINDINGS_DISABLED  false  whether to auto-configure Spring Boot environment properties from bindings
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>         $BPL_SPRING_CLOUD_BINDINGS_ENABLED   true   Deprecated - whether to auto-configure Spring Boot environment properties from bindings
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>       Creating slices from layers index
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>         dependencies <span style=color:#f92672>(</span>19.5 MB<span style=color:#f92672>)</span>
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>         spring-boot-loader <span style=color:#f92672>(</span>458.8 KB<span style=color:#f92672>)</span>
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>         snapshot-dependencies <span style=color:#f92672>(</span>0.0 B<span style=color:#f92672>)</span>
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>         application <span style=color:#f92672>(</span>35.9 KB<span style=color:#f92672>)</span>
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>       Spring Cloud Bindings 2.0.4: Contributing to layer
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>         Downloading from https://repo1.maven.org/maven2/org/springframework/cloud/spring-cloud-bindings/2.0.4/spring-cloud-bindings-2.0.4.jar
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>         Verifying checksum
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>         Copying to /layers/paketo-buildpacks_spring-boot/spring-cloud-bindings
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>       Web Application Type: Contributing to layer
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>         Servlet web application detected
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>         Writing env.launch/BPL_JVM_THREAD_COUNT.default
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>       Launch Helper: Contributing to layer
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>         Creating /layers/paketo-buildpacks_spring-boot/helper/exec.d/spring-cloud-bindings
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>       <span style=color:#ae81ff>4</span> application slices
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>       Image labels:
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>         org.opencontainers.image.title
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>         org.opencontainers.image.version
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>         org.springframework.boot.version
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>     <span style=color:#f92672>===</span>&gt; EXPORTING
    <span style=color:#f92672>[</span>creator<span style=color:#f92672>]</span>     Adding layer <span style=color:#e6db74>&#39;paketo-buildpacks/...
</span><span style=color:#e6db74>    [creator]         ...
</span><span style=color:#e6db74>
</span><span style=color:#e6db74>Successfully built image &#39;</span>docker.io/library/dockerize-spring-boot:0.0.1-SNAPSHOT<span style=color:#960050;background-color:#1e0010>&#39;</span>

BUILD SUCCESSFUL in 1m 57s
</code></pre></div><p>Let&rsquo;s run and test our the newly created images as before:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ docker run -it -p 8081:8080 --rm dockerize-spring-boot:0.0.1-SNAPSHOT
$ curl http://localhost:8081/ping
&gt; Pong!
</code></pre></div><p>This already gives us a solid ground to build upon for production and uses all the best practices almost for free. For example we already could see two benefits:</p><ul><li>The size of the created docker image from the &ldquo;manual&rdquo; <code>Dockerfile</code> is <strong>468MB</strong> while the image created by paketo with default settings is <strong>265MB</strong>.</li><li>The docker layers are cached. When only the java source code is changed, we can see the following message: <em>Reused 4/5 app layer(s)</em>. So we (Paketo) can optimize our build and rebuild only what&rsquo;s actually necessary.</li></ul><p>For more information please have a look on the Spring doc <a href=https://docs.spring.io/spring-boot/gradle-plugin/packaging-oci-image.html>Packaging OCI Images</a>.</p><h3 id=jib>Jib</h3><p>Another option that I would like to present is called <a href=https://github.com/GoogleContainerTools/jib>Jib</a>. This is part of Google&rsquo;s container tools to dockerize Java applications, similar what we have seen in the previous chapter.</p><p>Let&rsquo;s use it via the <a href=https://github.com/GoogleContainerTools/jib/tree/master/jib-gradle-plugin>gradle plugin</a>. You can add the plugin to the <code>build.gradle</code> file:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gradle data-lang=gradle>plugins <span style=color:#f92672>{</span>
  id <span style=color:#e6db74>&#39;com.google.cloud.tools.jib&#39;</span> version <span style=color:#e6db74>&#39;3.4.4&#39;</span>
<span style=color:#f92672>}</span>
</code></pre></div><p>And then create a docker image:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>./gradlew jibDockerBuild --image<span style=color:#f92672>=</span>dockerize-spring-boot-jib
</code></pre></div><p>Let&rsquo;s run and test one last time:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ docker run -it -p 8082:8080 --rm dockerize-spring-boot-jib:latest
$ curl http://localhost:8082/ping
&gt; Pong!
</code></pre></div><p>It&rsquo;s a very rich plugin, so I recommend to spend time how to configure it (for example how to change the base image).</p><h3 id=whats-the-catch>What&rsquo;s the catch?</h3><p>The major drawback with these options is that it introduces a dependency to you project (or even a plugin). You have to learn, understand, configure and maintain it. Contributors to (open source) projects can come and go, and there is no guarantee that these project will stay and get updates forever.</p><p>This problem is not unique to these plugins, but general for all dependencies, libraries and frameworks that your projects relies on, so make sure that you evaluate before adding it to your project.</p><h2 id=summary>Summary</h2><p>I hope following this post you gained the knowledge how to dockerize a spring boot application and made it clear that there are always tradeoffs to consider when deciding how to create a docker image based on your application.</p></div><div class=article-tags><a class="badge badge-light" href=/tags/spring-boot/>spring-boot</a>
<a class="badge badge-light" href=/tags/docker/>docker</a>
<a class="badge badge-light" href=/tags/java/>java</a></div><div class="media author-card"><img class="portrait mr-3" src=/authors/admin/avatar_hu18edfddd1969d66d9defb7f83286ba2e_227135_250x250_fill_q90_lanczos_center.jpg alt=Avatar><div class=media-body><h5 class=card-title><a href=https://nukesz.github.io/>Norbert Benczúr</a></h5><h6 class=card-subtitle>Senior Developer / R&D Manager</h6><ul class=network-icon aria-hidden=true><li><a href=https://www.youtube.com/channel/UCxTl-dwR9J9iIhtNT2j0Vrg target=_blank rel=noopener><i class="fab fa-youtube"></i></a></li><li><a href=https://twitter.com/NorbertBenczur target=_blank rel=noopener><i class="fab fa-twitter"></i></a></li><li><a href=https://github.com/nukesz target=_blank rel=noopener><i class="fab fa-github"></i></a></li><li><a href=mailto:norbert.benczur@gmail.com><i class="fas fa-envelope"></i></a></li></ul></div></div><section id=comments><div id=disqus_thread></div><script>let disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='https://'+"norbert-blog"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></article><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js integrity="sha256-aYTdUrn6Ow1DDgh5JTc3aDGnnju48y/1c8s1dgkYPQ8=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/r.min.js></script><script>hljs.initHighlightingOnLoad();</script><script>const search_index_filename="/index.json";const i18n={'placeholder':"Search...",'results':"results found",'no_results':"No results found"};const content_type={'post':"Posts",'project':"Projects",'publication':"Publications",'talk':"Talks"};</script><script id=search-hit-fuse-template type=text/x-template>
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script><script src=https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin=anonymous></script><script src=/js/academic.min.16bbb3750feb7244c9bc409a5a4fe678.js></script><div class=container><footer class=site-footer><p class=powered-by>2025 &#183;
Powered by the
<a href=https://sourcethemes.com/academic/ target=_blank rel=noopener>Academic theme</a> for
<a href=https://gohugo.io target=_blank rel=noopener>Hugo</a>.
<span class=float-right aria-hidden=true><a href=# id=back_to_top><span class=button_icon><i class="fas fa-chevron-up fa-2x"></i></span></a></span></p></footer></div><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Cite</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code class="tex hljs"></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i>Copy</a>
<a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i>Download</a><div id=modal-error></div></div></div></div></div></body></html>